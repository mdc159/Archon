{"id":"log_1767875093233_314636","timestamp":1767875093233,"location":"diagnose_docker_dns.sh","message":"Testing DNS resolution for registry-1.docker.io","data":{"test":"dns_resolution"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875093375_314636","timestamp":1767875093375,"location":"diagnose_docker_dns.sh","message":"DNS resolution SUCCESS","data":{"result":"Server: 127.0.0.53 Address: 127.0.0.53#53 Non-authoritative answer: Name: registry-1.docker.io "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875093382_314636","timestamp":1767875093382,"location":"diagnose_docker_dns.sh","message":"Checking system DNS resolver","data":{"test":"system_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875093397_314636","timestamp":1767875093397,"location":"diagnose_docker_dns.sh","message":"resolv.conf content","data":{"content":"nameserver 127.0.0.53 options edns0 trust-ad search . "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875093402_314636","timestamp":1767875093402,"location":"diagnose_docker_dns.sh","message":"Testing with Google DNS (8.8.8.8)","data":{"test":"alternate_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875093478_314636","timestamp":1767875093478,"location":"diagnose_docker_dns.sh","message":"Google DNS resolution SUCCESS","data":{"dns_server":"8.8.8.8"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875093484_314636","timestamp":1767875093484,"location":"diagnose_docker_dns.sh","message":"Testing network connectivity to Docker Hub","data":{"test":"network_connectivity"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875093764_314636","timestamp":1767875093764,"location":"diagnose_docker_dns.sh","message":"Docker Hub connectivity SUCCESS","data":{"url":"https://registry-1.docker.io/v2/"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875093770_314636","timestamp":1767875093770,"location":"diagnose_docker_dns.sh","message":"Checking Docker daemon status","data":{"test":"docker_daemon"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875093926_314636","timestamp":1767875093926,"location":"diagnose_docker_dns.sh","message":"Docker daemon is running","data":{"info":"Server Version: 29.1.3 Kernel Version: 6.14.0-37-generic Operating System: Ubuntu 24.04.3 LTS "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875093932_314636","timestamp":1767875093932,"location":"diagnose_docker_dns.sh","message":"Checking Docker DNS configuration","data":{"test":"docker_dns_config"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875093940_314636","timestamp":1767875093940,"location":"diagnose_docker_dns.sh","message":"Docker daemon.json not found","data":{"path":"/etc/docker/daemon.json"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875093945_314636","timestamp":1767875093945,"location":"diagnose_docker_dns.sh","message":"Checking systemd-resolved status","data":{"test":"systemd_resolved"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875094107_314636","timestamp":1767875094107,"location":"diagnose_docker_dns.sh","message":"systemd-resolved is active","data":{"status":"● systemd-resolved.service - Network Name Resolution Loaded: loaded (/usr/lib/systemd/system/systemd-resolved.service; enabled; preset: enabled) Active: active (running) since Tue 2026-01-06 23:07:10 PST; 1 day 5h ago Docs: man:systemd-resolved.service(8) man:org.freedesktop.resolve1(5) "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875094114_314636","timestamp":1767875094114,"location":"diagnose_docker_dns.sh","message":"Attempting Docker pull test (dry-run)","data":{"test":"docker_pull_test"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875094146_314636","timestamp":1767875094146,"location":"diagnose_docker_dns.sh","message":"Docker pull test result","data":{"output":"unknown flag: --dry-run Usage: docker pull [OPTIONS] NAME[:TAG|@DIGEST] Run 'docker pull --help' for more information "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875281337_317630","timestamp":1767875281337,"location":"diagnose_docker_dns.sh","message":"Testing DNS resolution for registry-1.docker.io","data":{"test":"dns_resolution"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875281498_317630","timestamp":1767875281498,"location":"diagnose_docker_dns.sh","message":"DNS resolution SUCCESS","data":{"result":"Server: 127.0.0.53 Address: 127.0.0.53#53 Non-authoritative answer: Name: registry-1.docker.io "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875281512_317630","timestamp":1767875281512,"location":"diagnose_docker_dns.sh","message":"Checking system DNS resolver","data":{"test":"system_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875281554_317630","timestamp":1767875281554,"location":"diagnose_docker_dns.sh","message":"resolv.conf content","data":{"content":"nameserver 127.0.0.53 options edns0 trust-ad search . "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875281563_317630","timestamp":1767875281563,"location":"diagnose_docker_dns.sh","message":"Testing with Google DNS (8.8.8.8)","data":{"test":"alternate_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875281794_317630","timestamp":1767875281794,"location":"diagnose_docker_dns.sh","message":"Google DNS resolution SUCCESS","data":{"dns_server":"8.8.8.8"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875281802_317630","timestamp":1767875281802,"location":"diagnose_docker_dns.sh","message":"Testing network connectivity to Docker Hub","data":{"test":"network_connectivity"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875282408_317630","timestamp":1767875282408,"location":"diagnose_docker_dns.sh","message":"Docker Hub connectivity SUCCESS","data":{"url":"https://registry-1.docker.io/v2/"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875282416_317630","timestamp":1767875282416,"location":"diagnose_docker_dns.sh","message":"Checking Docker daemon status","data":{"test":"docker_daemon"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875282667_317630","timestamp":1767875282667,"location":"diagnose_docker_dns.sh","message":"Docker daemon is running","data":{"info":"Server Version: 29.1.3 Kernel Version: 6.14.0-37-generic Operating System: Ubuntu 24.04.3 LTS "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875282683_317630","timestamp":1767875282683,"location":"diagnose_docker_dns.sh","message":"Checking Docker DNS configuration","data":{"test":"docker_dns_config"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875282696_317630","timestamp":1767875282696,"location":"diagnose_docker_dns.sh","message":"Docker daemon.json not found","data":{"path":"/etc/docker/daemon.json"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875282709_317630","timestamp":1767875282709,"location":"diagnose_docker_dns.sh","message":"Checking systemd-resolved status","data":{"test":"systemd_resolved"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875282760_317630","timestamp":1767875282760,"location":"diagnose_docker_dns.sh","message":"systemd-resolved is active","data":{"status":"● systemd-resolved.service - Network Name Resolution Loaded: loaded (/usr/lib/systemd/system/systemd-resolved.service; enabled; preset: enabled) Active: active (running) since Tue 2026-01-06 23:07:10 PST; 1 day 5h ago Docs: man:systemd-resolved.service(8) man:org.freedesktop.resolve1(5) "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875282771_317630","timestamp":1767875282771,"location":"diagnose_docker_dns.sh","message":"Attempting Docker pull test (dry-run)","data":{"test":"docker_pull_test"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875282810_317630","timestamp":1767875282810,"location":"diagnose_docker_dns.sh","message":"Docker pull test result","data":{"output":"unknown flag: --dry-run Usage: docker pull [OPTIONS] NAME[:TAG|@DIGEST] Run 'docker pull --help' for more information "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875360458_318229","timestamp":1767875360458,"location":"fix_docker_dns.sh","message":"Starting Docker DNS fix","data":{"daemon_json_path":"/etc/docker/daemon.json"},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875360467_318229","timestamp":1767875360467,"location":"fix_docker_dns.sh","message":"Not running as root - checking if sudo is available","data":{"user":"hammer"},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875360475_318229","timestamp":1767875360475,"location":"fix_docker_dns.sh","message":"daemon.json does not exist - will create new","data":{},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875360486_318229","timestamp":1767875360486,"location":"fix_docker_dns.sh","message":"Created /etc/docker directory if needed","data":{},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875360535_318229","timestamp":1767875360535,"location":"fix_docker_dns.sh","message":"Generated new daemon.json configuration","data":{"config":"{
  "dns": [
    "8.8.8.8",
    "1.1.1.1",
    "127.0.0.53"
  ]
}"},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875360548_318229","timestamp":1767875360548,"location":"fix_docker_dns.sh","message":"ERROR: Failed to write daemon.json","data":{"exit_code":1},"sessionId":"debug-session","runId":"fix","hypothesisId":"FIX"}
{"id":"log_1767875378213_318372","timestamp":1767875378213,"location":"diagnose_docker_dns.sh","message":"Testing DNS resolution for registry-1.docker.io","data":{"test":"dns_resolution"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378332_318372","timestamp":1767875378332,"location":"diagnose_docker_dns.sh","message":"DNS resolution SUCCESS","data":{"result":"Server: 127.0.0.53 Address: 127.0.0.53#53 Non-authoritative answer: Name: registry-1.docker.io "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378340_318372","timestamp":1767875378340,"location":"diagnose_docker_dns.sh","message":"Checking system DNS resolver","data":{"test":"system_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378356_318372","timestamp":1767875378356,"location":"diagnose_docker_dns.sh","message":"resolv.conf content","data":{"content":"nameserver 127.0.0.53 options edns0 trust-ad search . "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378362_318372","timestamp":1767875378362,"location":"diagnose_docker_dns.sh","message":"Testing with Google DNS (8.8.8.8)","data":{"test":"alternate_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875378431_318372","timestamp":1767875378431,"location":"diagnose_docker_dns.sh","message":"Google DNS resolution SUCCESS","data":{"dns_server":"8.8.8.8"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"B"}
{"id":"log_1767875378439_318372","timestamp":1767875378439,"location":"diagnose_docker_dns.sh","message":"Testing network connectivity to Docker Hub","data":{"test":"network_connectivity"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875378715_318372","timestamp":1767875378715,"location":"diagnose_docker_dns.sh","message":"Docker Hub connectivity SUCCESS","data":{"url":"https://registry-1.docker.io/v2/"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"C"}
{"id":"log_1767875378724_318372","timestamp":1767875378724,"location":"diagnose_docker_dns.sh","message":"Checking Docker daemon status","data":{"test":"docker_daemon"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875378873_318372","timestamp":1767875378873,"location":"diagnose_docker_dns.sh","message":"Docker daemon is running","data":{"info":"Server Version: 29.1.3 Kernel Version: 6.14.0-37-generic Operating System: Ubuntu 24.04.3 LTS "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875378880_318372","timestamp":1767875378880,"location":"diagnose_docker_dns.sh","message":"Checking Docker DNS configuration","data":{"test":"docker_dns_config"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875378888_318372","timestamp":1767875378888,"location":"diagnose_docker_dns.sh","message":"Docker daemon.json not found","data":{"path":"/etc/docker/daemon.json"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875378895_318372","timestamp":1767875378895,"location":"diagnose_docker_dns.sh","message":"Checking systemd-resolved status","data":{"test":"systemd_resolved"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378933_318372","timestamp":1767875378933,"location":"diagnose_docker_dns.sh","message":"systemd-resolved is active","data":{"status":"● systemd-resolved.service - Network Name Resolution Loaded: loaded (/usr/lib/systemd/system/systemd-resolved.service; enabled; preset: enabled) Active: active (running) since Tue 2026-01-06 23:07:10 PST; 1 day 5h ago Docs: man:systemd-resolved.service(8) man:org.freedesktop.resolve1(5) "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"A"}
{"id":"log_1767875378940_318372","timestamp":1767875378940,"location":"diagnose_docker_dns.sh","message":"Testing Docker pull (metadata fetch)","data":{"test":"docker_pull_test"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875379902_318372","timestamp":1767875379902,"location":"diagnose_docker_dns.sh","message":"Docker pull test SUCCESS","data":{"output":"3.12: Pulling from library/python Digest: sha256:f3396041c12dac446a6b824cbb027ad9f65f6836fef93fc0187e0380ebf10fe3 Status: Image is up to date for python:3.12 docker.io/library/python:3.12 "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"E"}
{"id":"log_1767875379910_318372","timestamp":1767875379910,"location":"diagnose_docker_dns.sh","message":"Checking Docker daemon DNS from docker info","data":{"test":"docker_info_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875379986_318372","timestamp":1767875379986,"location":"diagnose_docker_dns.sh","message":"No DNS info in docker info (may use system default)","data":{},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875379993_318372","timestamp":1767875379993,"location":"diagnose_docker_dns.sh","message":"Testing BuildKit DNS resolution","data":{"test":"buildkit_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"F"}
{"id":"log_1767875380115_318372","timestamp":1767875380115,"location":"diagnose_docker_dns.sh","message":"BuildKit status check","data":{"output":"ID RECLAIMABLE SIZE LAST ACCESSED 04o12h4skp77snrm16eosa7gz true 0B* 4 days ago 0cw46p5rw8xyt1q5rdmxvmtvh true 0B* 5 days ago "},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"F"}
{"id":"log_1767875380123_318372","timestamp":1767875380123,"location":"diagnose_docker_dns.sh","message":"Checking daemon.json DNS configuration","data":{"test":"daemon_json_dns"},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
{"id":"log_1767875380130_318372","timestamp":1767875380130,"location":"diagnose_docker_dns.sh","message":"daemon.json missing - Docker will use system DNS","data":{},"sessionId":"debug-session","runId":"diagnostic","hypothesisId":"D"}
